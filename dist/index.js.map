{"version":3,"file":"index.js","sources":["../src/utils/debug.ts","../src/utils/helpers.ts","../src/utils/uploadOptimizationManager.ts","../src/core/client.ts","../src/components/VideonestEmbed.tsx","../src/index.ts"],"sourcesContent":["// src/utils/debug.ts\nimport debugModule from 'debug';\n\n// Debug mode configuration (disabled by default)\nlet isDebugEnabled: boolean = false;\n\n// Initialize debug module but don't enable by default\nconst debugInstance = debugModule('videonest-sdk');\n\n/**\n * Enable or disable debug mode for the SDK\n * @param enable Whether to enable debugging (true) or disable it (false)\n */\nexport function setDebugMode(enable: boolean): void {\n  isDebugEnabled = enable;\n  \n  if (enable) {\n    // Enable debug module\n    debugModule.enable('videonest-sdk');\n    \n    // Set localStorage if in browser environment\n    if (typeof window !== 'undefined') {\n      window.localStorage.setItem('debug', 'videonest-sdk');\n    }\n    \n    console.log('[videonest-sdk] Debug mode enabled');\n  } else {\n    // Disable debug module\n    debugModule.disable();\n    \n    // Clear localStorage if in browser environment\n    if (typeof window !== 'undefined') {\n      window.localStorage.removeItem('debug');\n    }\n  }\n}\n\n/**\n * Get current debug mode status\n * @returns Boolean indicating if debug mode is enabled\n */\nexport function isDebugModeEnabled(): boolean {\n  return isDebugEnabled;\n}\n\n/**\n * Log messages only when debug mode is enabled\n */\nexport const log = function(message: string, ...args: any[]): void {\n  if (isDebugEnabled) {\n    debugInstance(message, ...args);\n  }\n};\n\n/**\n * Log messages that should always appear in console when debug mode is enabled,\n * or stay silent when debug mode is disabled\n */\nexport function forceLog(message: string, ...args: any[]): void {\n  if (isDebugEnabled) {\n    console.log(`[videonest-sdk] ${message}`, ...args);\n    debugInstance(message, ...args);\n  }\n}"," \nexport function generateUUID(): string {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      const r = Math.random() * 16 | 0;\n      const v = c === 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }","// uploadOptimizationManager.ts - SDK v2 Upgrade\nimport { generateUUID } from './helpers'\nimport { VideonestConfig, VideoMetadata } from '../types'\n\nexport function calculateOptimalChunkSize(fileSize: number, connectionSpeed: number | null = null, totalConcurrentUploads: number = 1): number {\n  let baseChunkSize: number;\n  \n  // AGGRESSIVE base sizes for single SDK uploads (larger than frontend)\n  if (fileSize < 50 * 1024 * 1024) {        // < 50MB\n    baseChunkSize = 8 * 1024 * 1024;        // 8MB (vs 2MB frontend)\n  } else if (fileSize < 500 * 1024 * 1024) { // < 500MB  \n    baseChunkSize = 25 * 1024 * 1024;       // 25MB (vs 5MB frontend)\n  } else if (fileSize < 2 * 1024 * 1024 * 1024) { // < 2GB\n    baseChunkSize = 50 * 1024 * 1024;       // 50MB (vs 10MB frontend)\n  } else {\n    baseChunkSize = 100 * 1024 * 1024;      // 100MB (vs 20MB frontend)\n  }\n  \n  // SDK is always single video, so no reduction needed like frontend\n  // But still respect connection speed\n  if (connectionSpeed) {\n    if (connectionSpeed > 50) {             // > 50 Mbps - blazing fast\n      baseChunkSize = Math.min(baseChunkSize * 2, 200 * 1024 * 1024); // Up to 200MB!\n    } else if (connectionSpeed > 25) {      // > 25 Mbps - fast connection  \n      baseChunkSize = Math.min(baseChunkSize * 1.5, 100 * 1024 * 1024);\n    } else if (connectionSpeed > 10) {      // > 10 Mbps - decent connection\n      // Keep base size\n    } else if (connectionSpeed < 5) {       // < 5 Mbps - slow connection  \n      baseChunkSize = Math.max(baseChunkSize * 0.5, 1024 * 1024); // Min 1MB\n    }\n  }\n  \n  return Math.floor(baseChunkSize);\n}\n\n// Enhanced connection speed detector from frontend v2\nexport class ConnectionSpeedDetector {\n  private samples: number[] = [];\n  public avgSpeed: number | null = null;\n  private globalThroughput: number = 0;\n  \n  recordChunkUpload(chunkSize: number, uploadTime: number): number {\n    const speedMbps = (chunkSize * 8) / (uploadTime / 1000) / 1_000_000;\n    \n    this.samples.push(speedMbps);\n    if (this.samples.length > 5) { // Keep more samples for stability\n      this.samples.shift();\n    }\n    \n    // Calculate weighted average (more weight to recent samples)\n    this.avgSpeed = this.calculateWeightedAverage(this.samples);\n    this.globalThroughput = this.samples.reduce((a, b) => a + b, 0);\n    \n    return this.avgSpeed;\n  }\n  \n  private calculateWeightedAverage(samples: number[]): number {\n    if (samples.length === 0) return 0;\n    \n    let weightedSum = 0;\n    let totalWeight = 0;\n    \n    samples.forEach((speed, index) => {\n      const weight = index + 1; // More recent samples get higher weight\n      weightedSum += speed * weight;\n      totalWeight += weight;\n    });\n    \n    return weightedSum / totalWeight;\n  }\n  \n  shouldReduceConcurrency(): boolean {\n    return this.avgSpeed !== null && (this.avgSpeed < 5 || this.globalThroughput < 10);\n  }\n  \n  shouldIncreaseConcurrency(): boolean {\n    return this.avgSpeed !== null && this.avgSpeed > 20 && this.globalThroughput > 50 && this.samples.length >= 3;\n  }\n}\n\nexport class UploadOptimizationManager {\n  private file: File;\n  private metadata: VideoMetadata;\n  private config: VideonestConfig;\n  private currentConcurrency: number;\n  private maxConcurrency: number;\n  \n  private uploadQueue: Array<{\n    index: number;\n    uploadId: string;\n    retries: number;\n    maxRetries: number;\n    priority: number;\n  }> = [];\n  \n  private activeUploads = new Map();\n  private completedChunks = new Set<number>();\n  private failedChunks = new Set<number>();\n  private speedDetector = new ConnectionSpeedDetector();\n  \n  private chunkSize: number;\n  private totalChunks: number;\n  private uploadId: string = '';\n  \n  // Enhanced progress tracking\n  private chunkBytesUploaded = new Map<number, number>();\n  private totalBytesUploaded = 0;\n  private startTime: number = 0;\n  private lastProgressReport: number = 0;\n  private stalledChunks = new Set<number>();\n  private stallMonitor?: NodeJS.Timeout;\n  \n  constructor(file: File, metadata: VideoMetadata, config: VideonestConfig) {\n    this.file = file;\n    this.metadata = metadata;\n    this.config = config;\n    \n    // More aggressive for single SDK uploads\n    this.maxConcurrency = 10; // Higher than frontend's max of 6\n    this.currentConcurrency = 4; // Start higher than frontend's 2\n    \n    // Calculate chunk size with SDK-optimized settings\n    this.chunkSize = calculateOptimalChunkSize(file.size, null, 1);\n    this.totalChunks = Math.ceil(file.size / this.chunkSize);\n    \n    console.log(`🚀 SDK Upload manager initialized: ${this.totalChunks} chunks, ${this.maxConcurrency} max concurrency, ${(this.chunkSize / 1024 / 1024).toFixed(1)}MB chunk size`);\n  }\n  \n  async upload(onProgress: (progress: number) => void): Promise<{ uploadId: string; totalChunks: number }> {\n    const uploadId = generateUUID();\n    this.uploadId = uploadId;\n    this.startTime = Date.now();\n    \n    // Initialize bytes tracking for each chunk\n    for (let i = 0; i < this.totalChunks; i++) {\n      this.chunkBytesUploaded.set(i, 0);\n    }\n    \n    // Create upload queue with priority (first and last chunks prioritized)\n    for (let i = 0; i < this.totalChunks; i++) {\n      this.uploadQueue.push({\n        index: i,\n        uploadId,\n        retries: 0,\n        maxRetries: 3,\n        priority: this.calculateChunkPriority(i)\n      });\n    }\n    \n    // Sort queue by priority\n    this.uploadQueue.sort((a, b) => b.priority - a.priority);\n    \n    // Start workers\n    const workerPromises = [];\n    for (let i = 0; i < this.currentConcurrency; i++) {\n      workerPromises.push(this.uploadWorker(onProgress));\n    }\n    \n    // Monitor for stalled uploads\n    this.stallMonitor = setInterval(() => this.checkForStalledUploads(), 10000);\n    \n    await Promise.all(workerPromises);\n    \n    if (this.stallMonitor) {\n      clearInterval(this.stallMonitor);\n    }\n    \n    if (this.failedChunks.size > 0) {\n      throw new Error(`Failed to upload ${this.failedChunks.size} chunks after retries`);\n    }\n    \n    console.log(`✅ SDK Upload completed in ${((Date.now() - this.startTime) / 1000).toFixed(1)}s`);\n    return { uploadId, totalChunks: this.totalChunks };\n  }\n  \n  private calculateChunkPriority(index: number): number {\n    // First chunk gets highest priority (contains metadata)\n    if (index === 0) return 100;\n    // Last chunk gets high priority (allows early finalization check)\n    if (index === this.totalChunks - 1) return 90;\n    // Middle chunks get normal priority\n    return 50;\n  }\n  \n  private async uploadWorker(onProgress: (progress: number) => void): Promise<void> {\n    while (this.uploadQueue.length > 0 || this.activeUploads.size > 0) {\n      // Check if we should process more uploads\n      if (this.uploadQueue.length > 0 && this.activeUploads.size < this.currentConcurrency) {\n        const chunkInfo = this.uploadQueue.shift();\n        if (chunkInfo) {\n          try {\n            await this.uploadChunk(chunkInfo, onProgress);\n          } catch (error) {\n            this.handleChunkError(chunkInfo, error as Error);\n          }\n        }\n      } else {\n        // Wait for active uploads to complete\n        await new Promise(resolve => setTimeout(resolve, 100));\n      }\n    }\n  }\n  \n  private async uploadChunk(chunkInfo: any, onProgress: (progress: number) => void): Promise<any> {\n    const { index, uploadId } = chunkInfo;\n    \n    const start = index * this.chunkSize;\n    const end = Math.min(start + this.chunkSize, this.file.size);\n    const chunk = this.file.slice(start, end);\n    const chunkSize = chunk.size;\n    \n    if (chunkSize === 0) {\n      throw new Error(`Empty chunk detected for index ${index}`);\n    }\n    \n    this.activeUploads.set(index, { ...chunkInfo, startTime: Date.now() });\n    \n    const formData = new FormData();\n    formData.append('chunk', chunk);\n    formData.append('uploadId', uploadId);\n    formData.append('chunkIndex', index.toString());\n    formData.append('totalChunks', this.totalChunks.toString());\n    formData.append('fileName', this.file.name);\n    formData.append('fileSize', this.file.size.toString());\n    formData.append('totalConcurrentVideos', '1'); // Always 1 for SDK\n    \n    // Add metadata to first chunk\n    if (index === 0) {\n      formData.append('channelId', this.metadata.channelId.toString());\n      if (this.metadata.title) formData.append('title', this.metadata.title);\n      if (this.metadata.description) formData.append('description', this.metadata.description);\n      \n      if (this.metadata.tags) {\n        const tagsValue = Array.isArray(this.metadata.tags) \n          ? this.metadata.tags.join(',') \n          : this.metadata.tags;\n          \n        if (tagsValue && tagsValue.length > 0) {\n          formData.append('tags', tagsValue);\n        }\n      }\n    }\n    \n    const startTime = Date.now();\n    const baseUrl = this.config.baseUrl || 'https://api1.videonest.co';\n    \n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      \n      // Increased timeout for larger chunks\n      xhr.timeout = 120000; // 2 minutes\n      \n      xhr.upload.onprogress = (event) => {\n        if (event.lengthComputable) {\n          this.chunkBytesUploaded.set(index, event.loaded);\n          this.totalBytesUploaded = Array.from(this.chunkBytesUploaded.values())\n            .reduce((sum, bytes) => sum + bytes, 0);\n          \n          // Throttle progress updates\n          const now = Date.now();\n          if (now - this.lastProgressReport > 100) {\n            const progressPercentage = (this.totalBytesUploaded / this.file.size) * 100;\n            onProgress(progressPercentage);\n            this.lastProgressReport = now;\n          }\n        }\n      };\n      \n      // Use v2 route like frontend\n      xhr.open('POST', `${baseUrl}/upload/videos/upload-chunk-v2`);\n      xhr.setRequestHeader('Authorization', `Bearer ${this.config.apiKey}`);\n      \n      xhr.onload = () => {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            const result = JSON.parse(xhr.responseText);\n            if (!result.success) {\n              reject(new Error(result.message || 'Chunk upload failed'));\n            } else {\n            const uploadTime = Date.now() - startTime;\n              const currentSpeed = this.speedDetector.recordChunkUpload(chunkSize, uploadTime);\n              \n              this.activeUploads.delete(index);\n              this.completedChunks.add(index);\n              this.chunkBytesUploaded.set(index, chunkSize);\n              \n              // Dynamic concurrency adjustment\n              if (this.completedChunks.size % 3 === 0) {\n                this.adjustConcurrency(currentSpeed);\n              }\n              \n              resolve(result);\n            }\n          } catch (e) {\n            reject(new Error('Invalid response from server'));\n          }\n        } else {\n          reject(new Error(`HTTP error: ${xhr.status}`));\n        }\n      };\n      \n      xhr.onerror = () => reject(new Error('Network error during upload'));\n      xhr.ontimeout = () => reject(new Error('Upload timeout - chunk may be too large'));\n      \n      xhr.send(formData);\n    });\n  }\n  \n  private handleChunkError(chunkInfo: any, error: Error): void {\n    console.error(`Chunk ${chunkInfo.index} upload failed:`, error.message);\n    \n    if (chunkInfo.retries < chunkInfo.maxRetries) {\n      chunkInfo.retries++;\n      // Add delay before retry with exponential backoff\n      setTimeout(() => {\n        this.uploadQueue.unshift(chunkInfo); // Add to front for priority\n      }, Math.pow(2, chunkInfo.retries) * 1000);\n    } else {\n      this.failedChunks.add(chunkInfo.index);\n      this.activeUploads.delete(chunkInfo.index);\n    }\n  }\n  \n  private adjustConcurrency(currentSpeed: number): void {\n    const oldConcurrency = this.currentConcurrency;\n    \n    // More aggressive adjustments for single file SDK uploads\n    if (this.speedDetector.shouldReduceConcurrency()) {\n      this.currentConcurrency = Math.max(1, this.currentConcurrency - 1);\n      console.log(`🐌 SDK: Reducing concurrency to ${this.currentConcurrency} (${currentSpeed.toFixed(1)} Mbps)`);\n    } else if (this.speedDetector.shouldIncreaseConcurrency() && this.currentConcurrency < this.maxConcurrency) {\n      // More aggressive increases for SDK\n      if (currentSpeed > 50) {\n        this.currentConcurrency = Math.min(this.currentConcurrency + 2, this.maxConcurrency);\n        console.log(`🚀 SDK: Boosting concurrency to ${this.currentConcurrency} (${currentSpeed.toFixed(1)} Mbps)`);\n      } else if (currentSpeed > 25) {\n        this.currentConcurrency = Math.min(this.currentConcurrency + 1, this.maxConcurrency);\n        console.log(`⚡ SDK: Increasing concurrency to ${this.currentConcurrency} (${currentSpeed.toFixed(1)} Mbps)`);\n      }\n    }\n    \n    // Start additional workers if concurrency increased\n    if (this.currentConcurrency > oldConcurrency && this.uploadQueue.length > 0) {\n      const additionalWorkers = this.currentConcurrency - oldConcurrency;\n      for (let i = 0; i < additionalWorkers; i++) {\n        this.uploadWorker(() => {}); // Start worker without progress callback\n      }\n    }\n  }\n  \n  private checkForStalledUploads(): void {\n    const now = Date.now();\n    const stallThreshold = 30000; // 30 seconds\n    \n    for (const [index, uploadInfo] of this.activeUploads.entries()) {\n      if (now - uploadInfo.startTime > stallThreshold) {\n        console.warn(`⚠️ SDK: Chunk ${index} appears stalled, will retry`);\n        this.stalledChunks.add(index);\n        \n        // Cancel and retry stalled upload\n        this.activeUploads.delete(index);\n        this.uploadQueue.unshift({\n          ...uploadInfo,\n          retries: uploadInfo.retries + 1\n        });\n      }\n    }\n  }\n  \n  getUploadStats() {\n    return {\n      totalChunks: this.totalChunks,\n      completedChunks: this.completedChunks.size,\n      failedChunks: this.failedChunks.size,\n      activeUploads: this.activeUploads.size,\n      currentConcurrency: this.currentConcurrency,\n      avgSpeed: this.speedDetector.avgSpeed,\n      progress: (this.totalBytesUploaded / this.file.size) * 100\n    };\n  }\n}","import { VideonestConfig, VideoMetadata, UploadOptions, UploadResult, VideoStatus } from '../types';\nimport { log, forceLog } from '../utils/debug';\nimport { generateUUID } from '../utils/helpers';\nimport { UploadOptimizationManager } from '../utils/uploadOptimizationManager';\n\nexport default class VideonestClient {\n  private config: VideonestConfig;\n\n  constructor(config: VideonestConfig) {\n    this.config = config;\n    log('VideonestClient initialized with channelId:', config.channelId);\n  }\n  \n  async uploadVideo(file: File, options: UploadOptions): Promise<UploadResult> {\n    forceLog('Starting optimized video upload process');\n    forceLog(`File: ${file.name}, size: ${file.size} bytes`);\n    \n    try {\n      const { \n        metadata, \n        onProgress = () => {}, \n        thumbnail\n      } = options;\n      \n      // Check if thumbnail is provided\n      if (!thumbnail) {\n        forceLog('Error: Thumbnail is required');\n        throw new Error('Thumbnail is required for video upload');\n      }\n      \n      forceLog('Upload options:', { \n        metadata, \n        hasThumbnail: !!thumbnail\n      });\n      \n      // Make sure channelId is included in metadata\n      const uploadMetadata = {\n        ...metadata,\n        channelId: this.config.channelId,\n      };\n      forceLog('Upload metadata:', uploadMetadata);\n      \n      // Create upload optimization manager\n      const uploadManager = new UploadOptimizationManager(\n        file, \n        uploadMetadata, \n        this.config\n      );\n      \n      // Upload chunks with optimization\n      const { uploadId, totalChunks } = await uploadManager.upload(onProgress);\n      \n      forceLog(`All chunks uploaded. Finalizing upload... (uploadId: ${uploadId}, totalChunks: ${totalChunks})`);\n      \n      // Finalize using v2 route with metadata in request body\n      const finalData = { \n        fileName: file.name, \n        uploadId: uploadId,\n        totalChunks: totalChunks.toString(),\n        // Include metadata in finalization request (like frontend v2)\n        title: uploadMetadata.title || 'Untitled Video',\n        description: uploadMetadata.description || '',\n        tags: uploadMetadata.tags ? (Array.isArray(uploadMetadata.tags) ? uploadMetadata.tags.join(',') : uploadMetadata.tags) : ''\n      };\n      forceLog('Finalize request data:', finalData);\n      \n      // Use new SDK v2 finalize route\n      const finalizeResponse = await fetch(`https://api1.videonest.co/sdk/${this.config.channelId}/finalize-v2`, {\n        method: 'POST',\n        body: JSON.stringify(finalData),\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.config.apiKey}`\n        },\n      });\n      \n      forceLog(`Finalize response status: ${finalizeResponse.status}`);\n      const finalizeResult = await finalizeResponse.json();\n      forceLog('Finalize response data:', finalizeResult);\n      \n      if (!finalizeResult.success) {\n        forceLog(`Finalization failed: ${finalizeResult.message}`);\n        throw new Error(finalizeResult.message || 'Upload finalization failed');\n      }\n      \n      forceLog('Upload successfully finalized');\n      \n      // Upload the provided thumbnail\n      forceLog('Uploading user-provided thumbnail');\n      await this.uploadThumbnail(thumbnail, finalizeResult.video.id);\n      forceLog('Upload process completed successfully');\n      \n      return finalizeResult;\n    } catch (error) {\n      forceLog(`Upload error: ${error instanceof Error ? error.message : 'Unknown error'}`, error);\n      \n      return { \n        success: false, \n        message: error instanceof Error ? error.message : 'An unexpected error occurred during upload' \n      };\n    }\n  }\n\n  private async trackVideoUpload(action: string, sessionData: any) {\n    log(\"Tracking video upload:\", action, sessionData);\n    \n    try {\n      let endpoint = '';\n      let method = 'POST';\n      let requestBody: any;\n      const baseUrl = 'https://api1.videonest.co';\n  \n      if (action === 'start') {\n        // CREATE new session\n        endpoint = '/video-stats/upload-sessions';\n        method = 'POST';\n        requestBody = {\n          session_id: sessionData.sessionId,\n          user_id: sessionData.userId,\n          video_id: sessionData.videoId || 0, // Will be updated later\n          filename: sessionData.filename,\n          file_size: sessionData.fileSize,\n          chunks_count: sessionData.chunksCount || 0,\n          status: 'in_progress'\n          // start_time will default to NOW() in the API\n        };\n      } else if (action === 'complete' || action === 'failed') {\n        // UPDATE existing session\n        endpoint = `/video-stats/upload-sessions/${sessionData.sessionId}`;\n        method = 'POST'; // API uses POST for updates\n        requestBody = {\n          video_id: sessionData.videoId,\n          end_time: new Date().toISOString(),\n          status: sessionData.status\n        };\n        \n        if (sessionData.startTime) {\n          const duration = Date.now() - sessionData.startTime;\n          requestBody.total_duration = `${Math.floor(duration / 1000)} seconds`;\n          \n          // Calculate average speed in Mbps\n          if (sessionData.fileSize && duration > 0) {\n            const speedBps = (sessionData.fileSize * 8) / (duration / 1000); // bits per second\n            requestBody.avg_speed_mbps = parseFloat((speedBps / 1_000_000).toFixed(2)); // Convert to Mbps\n          }\n        }\n      }\n  \n      const url = `${baseUrl}${endpoint}`;\n      log(\"Upload session request:\", { action, url, method, body: requestBody });\n  \n      const headers: Record<string, string> = {\n        'Content-Type': 'application/json',\n      };\n\n      // Add authentication headers\n      if (this.config.apiKey) {\n        headers['X-API-Key'] = this.config.apiKey;\n      }\n\n      if (this.config.channelId) {\n        headers['X-Channel-ID'] = this.config.channelId.toString();\n      }\n  \n      const response = await fetch(url, {\n        method,\n        headers,\n        body: JSON.stringify(requestBody),\n      });\n  \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        log('Failed to track upload session:', errorData);\n        return { success: false, error: 'Failed to track upload session' };\n      }\n  \n      const data = await response.json();\n      return { success: true, ...data };\n    } catch (error) {\n      log('Error tracking upload session:', error instanceof Error ? error.message : String(error));\n      return { success: false, error: error instanceof Error ? error.message : 'Failed to track upload session' };\n    }\n  }\n\n\n  private async uploadThumbnail(thumbnailFile: File, videoId: string): Promise<any> {\n    \n    const formData = new FormData();\n    formData.append('thumbnail', thumbnailFile);\n\n    try {\n      const response = await fetch(`https://api1.videonest.co/sdk/${this.config.channelId}/videos/${videoId}/send-thumbnail`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Authorization': `Bearer ${this.config.apiKey}`\n        },\n      });\n      \n      const result = await response.json();\n      if (!result.success) {\n        throw new Error(result.message || 'Thumbnail upload failed');\n      }\n      \n      return result;\n    } catch (error) {\n      throw new Error(error instanceof Error ? error.message : 'Failed to upload thumbnail');\n    }\n  }\n  \n\n\n async getVideoStatus(videoId: number): Promise<VideoStatus> {\n    \n    try {\n      const response = await fetch(`https://api1.videonest.co/sdk/${this.config.channelId}/videos/${videoId}/status`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${this.config.apiKey}`\n        },\n      });\n      \n      const result = await response.json();\n      if (!result.success) {\n        throw new Error(result.message || 'Failed to get video status');\n      }\n      \n      return result;\n    } catch (error) {\n      throw new Error(error instanceof Error ? error.message : 'Failed to get video status');\n    }\n  }\n\n\n\n\n\n\n  async listVideos(): Promise<{ success: boolean, videos?: any[], message?: string }> {\n    try {\n      const response = await fetch(`https://api1.videonest.co/sdk/${this.config.channelId}/videos`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${this.config.apiKey}`\n        },\n      });\n      \n      log(`Videos list response status: ${response.status}`);\n      const result = await response.json();\n      log('Videos list response data:', result);\n      \n      if (!result.success) {\n        log(`Videos list fetch failed: ${result.message || 'Unknown error'}`);\n        return {\n          success: false,\n          message: result.message || 'Failed to retrieve videos'\n        };\n      }\n      \n      log(`Successfully retrieved ${result.videos ? result.videos.length : 0} videos`);\n      return result;\n    } catch (error) {\n      log(`Videos list error: ${error instanceof Error ? error.message : 'Unknown error'}`, error);\n      return {\n        success: false,\n        message: error instanceof Error ? error.message : 'Failed to retrieve videos'\n      };\n    }\n  }\n\n\n\n\n}","import * as React from 'react';\nimport { VideonestConfig } from '../types';\nimport { log, forceLog } from '../utils/debug';\n\ninterface VideonestEmbedProps {\n  videoId: number;\n  config: VideonestConfig;\n  style?: {\n    secondaryColor?: string;\n    primaryColor?: string;\n    darkMode?: boolean;\n    width?: string | number;\n    height?: string | number;\n    showTitle?: boolean;\n    showDescription?: boolean;\n  };\n}\n\nconst VideonestEmbed: React.FC<VideonestEmbedProps> = ({ videoId, config, style = {} }) => {\n  const { primaryColor, secondaryColor, darkMode, width, height, showTitle, showDescription } = style;\n\n  let embedUrl = `https://app.videonest.co/embed/single/${videoId}`;\n  const params: string[] = [];\n\n  if (primaryColor) params.push(`primary_color=${primaryColor.replace('#', '')}`);\n  if (secondaryColor) params.push(`secondary_color=${secondaryColor.replace('#', '')}`);\n  if (darkMode) params.push('dark_mode=true');\n  if (showTitle) params.push('show_title=true');\n  if (showDescription) params.push('show_description=true');\n  \n  // Add authentication parameters\n  params.push(`channel_id=${config.channelId}`);\n  params.push(`api_key=${config.apiKey}`);\n\n  if (params.length > 0) {\n    embedUrl += `?${params.join('&')}`;\n  }\n\n  return (\n    <iframe\n        src={embedUrl}\n        style={{width: width || '100%', height: height || '100%'}}\n        frameBorder=\"0\"\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        allowFullScreen\n        title={`Videonest video ${videoId}`}\n      />\n  );\n};\n\nexport default VideonestEmbed;","import { log, forceLog, setDebugMode, isDebugModeEnabled } from './utils/debug';\nimport VideonestClient from './core/client';\nimport { VideonestConfig } from './types';\nimport VideonestEmbed from './components/VideonestEmbed';\n\nexport * from './types';\nexport { setDebugMode, isDebugModeEnabled } from './utils/debug';\n\nexport { VideonestEmbed }; // Export the component\n\n/**\n * Upload a video to VideoNest\n * @param file The video file to upload\n * @param options Upload options including metadata\n * @param config VideoNest configuration with channelId and apiKey\n */\nexport async function uploadVideo(file: File, options: any, config: VideonestConfig) {\n  const client = new VideonestClient(config);\n  return client.uploadVideo(file, options);\n}\n\n/**\n * Get the status of a video\n * @param videoId The ID of the video to check status\n * @param config VideoNest configuration with channelId and apiKey\n */\nexport async function getVideoStatus(videoId: number, config: VideonestConfig) {\n  const client = new VideonestClient(config);\n  return client.getVideoStatus(videoId);\n}\n\n/**\n * List all videos for the channel\n * @param config VideoNest configuration with channelId and apiKey\n */\nexport async function listVideos(config: VideonestConfig) {\n  const client = new VideonestClient(config);\n  return client.listVideos();\n}\n\n"],"names":["debugModule","React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA;AACA,IAAI,cAAc,GAAY,KAAK,CAAC;AAEpC;AACA,MAAM,aAAa,GAAGA,+BAAW,CAAC,eAAe,CAAC,CAAC;AAEnD;;;AAGG;AACG,SAAU,YAAY,CAAC,MAAe,EAAA;IAC1C,cAAc,GAAG,MAAM,CAAC;IAExB,IAAI,MAAM,EAAE;;AAEV,QAAAA,+BAAW,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;;AAGpC,QAAA,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACjC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;SACvD;AAED,QAAA,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;KACnD;SAAM;;QAELA,+BAAW,CAAC,OAAO,EAAE,CAAC;;AAGtB,QAAA,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AACjC,YAAA,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;SACzC;KACF;AACH,CAAC;AAED;;;AAGG;SACa,kBAAkB,GAAA;AAChC,IAAA,OAAO,cAAc,CAAC;AACxB,CAAC;AAED;;AAEG;AACI,MAAM,GAAG,GAAG,UAAS,OAAe,EAAE,GAAG,IAAW,EAAA;IACzD,IAAI,cAAc,EAAE;AAClB,QAAA,aAAa,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;KACjC;AACH,CAAC,CAAC;AAEF;;;AAGG;SACa,QAAQ,CAAC,OAAe,EAAE,GAAG,IAAW,EAAA;IACtD,IAAI,cAAc,EAAE;QAClB,OAAO,CAAC,GAAG,CAAC,CAAmB,gBAAA,EAAA,OAAO,EAAE,EAAE,GAAG,IAAI,CAAC,CAAC;AACnD,QAAA,aAAa,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;KACjC;AACH;;SC9DgB,YAAY,GAAA;AACxB,IAAA,OAAO,sCAAsC,CAAC,OAAO,CAAC,OAAO,EAAE,UAAS,CAAC,EAAA;QACvE,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AACjC,QAAA,MAAM,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAC1C,QAAA,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AACxB,KAAC,CAAC,CAAC;AACL;;ACPF;AAIM,SAAU,yBAAyB,CAAC,QAAgB,EAAE,eAAiC,GAAA,IAAI,EAAE,sBAAA,GAAiC,CAAC,EAAA;AACnI,IAAA,IAAI,aAAqB,CAAC;;IAG1B,IAAI,QAAQ,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,EAAE;QAC/B,aAAa,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;KACjC;SAAM,IAAI,QAAQ,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,EAAE;QACvC,aAAa,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC;KAClC;AAAM,SAAA,IAAI,QAAQ,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,EAAE;QAC5C,aAAa,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC;KAClC;SAAM;QACL,aAAa,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC;KACnC;;;IAID,IAAI,eAAe,EAAE;AACnB,QAAA,IAAI,eAAe,GAAG,EAAE,EAAE;AACxB,YAAA,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;SAChE;AAAM,aAAA,IAAI,eAAe,GAAG,EAAE,EAAE;AAC/B,YAAA,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;SAClE;AAAM,aAAA,IAAI,eAAe,GAAG,EAAE,EAAE,CAEhC;AAAM,aAAA,IAAI,eAAe,GAAG,CAAC,EAAE;AAC9B,YAAA,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,GAAG,EAAE,IAAI,GAAG,IAAI,CAAC,CAAC;SAC5D;KACF;AAED,IAAA,OAAO,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AACnC,CAAC;AAED;MACa,uBAAuB,CAAA;AAApC,IAAA,WAAA,GAAA;QACU,IAAO,CAAA,OAAA,GAAa,EAAE,CAAC;QACxB,IAAQ,CAAA,QAAA,GAAkB,IAAI,CAAC;QAC9B,IAAgB,CAAA,gBAAA,GAAW,CAAC,CAAC;KAuCtC;IArCC,iBAAiB,CAAC,SAAiB,EAAE,UAAkB,EAAA;AACrD,QAAA,MAAM,SAAS,GAAG,CAAC,SAAS,GAAG,CAAC,KAAK,UAAU,GAAG,IAAI,CAAC,GAAG,OAAS,CAAC;AAEpE,QAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC7B,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3B,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;SACtB;;QAGD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC5D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAEhE,OAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;AAEO,IAAA,wBAAwB,CAAC,OAAiB,EAAA;AAChD,QAAA,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC;AAAE,YAAA,OAAO,CAAC,CAAC;QAEnC,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAI,WAAW,GAAG,CAAC,CAAC;QAEpB,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,KAAI;AAC/B,YAAA,MAAM,MAAM,GAAG,KAAK,GAAG,CAAC,CAAC;AACzB,YAAA,WAAW,IAAI,KAAK,GAAG,MAAM,CAAC;YAC9B,WAAW,IAAI,MAAM,CAAC;AACxB,SAAC,CAAC,CAAC;QAEH,OAAO,WAAW,GAAG,WAAW,CAAC;KAClC;IAED,uBAAuB,GAAA;AACrB,QAAA,OAAO,IAAI,CAAC,QAAQ,KAAK,IAAI,KAAK,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC,CAAC;KACpF;IAED,yBAAyB,GAAA;QACvB,OAAO,IAAI,CAAC,QAAQ,KAAK,IAAI,IAAI,IAAI,CAAC,QAAQ,GAAG,EAAE,IAAI,IAAI,CAAC,gBAAgB,GAAG,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC;KAC/G;AACF,CAAA;MAEY,yBAAyB,CAAA;AAgCpC,IAAA,WAAA,CAAY,IAAU,EAAE,QAAuB,EAAE,MAAuB,EAAA;QAzBhE,IAAW,CAAA,WAAA,GAMd,EAAE,CAAC;AAEA,QAAA,IAAA,CAAA,aAAa,GAAG,IAAI,GAAG,EAAE,CAAC;AAC1B,QAAA,IAAA,CAAA,eAAe,GAAG,IAAI,GAAG,EAAU,CAAC;AACpC,QAAA,IAAA,CAAA,YAAY,GAAG,IAAI,GAAG,EAAU,CAAC;AACjC,QAAA,IAAA,CAAA,aAAa,GAAG,IAAI,uBAAuB,EAAE,CAAC;QAI9C,IAAQ,CAAA,QAAA,GAAW,EAAE,CAAC;;AAGtB,QAAA,IAAA,CAAA,kBAAkB,GAAG,IAAI,GAAG,EAAkB,CAAC;QAC/C,IAAkB,CAAA,kBAAA,GAAG,CAAC,CAAC;QACvB,IAAS,CAAA,SAAA,GAAW,CAAC,CAAC;QACtB,IAAkB,CAAA,kBAAA,GAAW,CAAC,CAAC;AAC/B,QAAA,IAAA,CAAA,aAAa,GAAG,IAAI,GAAG,EAAU,CAAC;AAIxC,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,QAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,QAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;AAGrB,QAAA,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;AACzB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;;AAG5B,QAAA,IAAI,CAAC,SAAS,GAAG,yBAAyB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAC/D,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;AAEzD,QAAA,OAAO,CAAC,GAAG,CAAC,CAAA,mCAAA,EAAsC,IAAI,CAAC,WAAW,CAAA,SAAA,EAAY,IAAI,CAAC,cAAc,CAAA,kBAAA,EAAqB,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAe,aAAA,CAAA,CAAC,CAAC;KACjL;IAED,MAAM,MAAM,CAAC,UAAsC,EAAA;AACjD,QAAA,MAAM,QAAQ,GAAG,YAAY,EAAE,CAAC;AAChC,QAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;;AAG5B,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;YACzC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACnC;;AAGD,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;AACzC,YAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;AACpB,gBAAA,KAAK,EAAE,CAAC;gBACR,QAAQ;AACR,gBAAA,OAAO,EAAE,CAAC;AACV,gBAAA,UAAU,EAAE,CAAC;AACb,gBAAA,QAAQ,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;AACzC,aAAA,CAAC,CAAC;SACJ;;QAGD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;;QAGzD,MAAM,cAAc,GAAG,EAAE,CAAC;AAC1B,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC,EAAE,EAAE;YAChD,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC;SACpD;;AAGD,QAAA,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,MAAM,IAAI,CAAC,sBAAsB,EAAE,EAAE,KAAK,CAAC,CAAC;AAE5E,QAAA,MAAM,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;AAElC,QAAA,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,YAAA,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAClC;QAED,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,CAAC,EAAE;YAC9B,MAAM,IAAI,KAAK,CAAC,CAAoB,iBAAA,EAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAuB,qBAAA,CAAA,CAAC,CAAC;SACpF;QAED,OAAO,CAAC,GAAG,CAAC,CAA6B,0BAAA,EAAA,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAG,CAAA,CAAA,CAAC,CAAC;QAC/F,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;KACpD;AAEO,IAAA,sBAAsB,CAAC,KAAa,EAAA;;QAE1C,IAAI,KAAK,KAAK,CAAC;AAAE,YAAA,OAAO,GAAG,CAAC;;AAE5B,QAAA,IAAI,KAAK,KAAK,IAAI,CAAC,WAAW,GAAG,CAAC;AAAE,YAAA,OAAO,EAAE,CAAC;;AAE9C,QAAA,OAAO,EAAE,CAAC;KACX;IAEO,MAAM,YAAY,CAAC,UAAsC,EAAA;AAC/D,QAAA,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,CAAC,EAAE;;AAEjE,YAAA,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,kBAAkB,EAAE;gBACpF,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;gBAC3C,IAAI,SAAS,EAAE;AACb,oBAAA,IAAI;wBACF,MAAM,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;qBAC/C;oBAAC,OAAO,KAAK,EAAE;AACd,wBAAA,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAc,CAAC,CAAC;qBAClD;iBACF;aACF;iBAAM;;AAEL,gBAAA,MAAM,IAAI,OAAO,CAAC,OAAO,IAAI,UAAU,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;aACxD;SACF;KACF;AAEO,IAAA,MAAM,WAAW,CAAC,SAAc,EAAE,UAAsC,EAAA;AAC9E,QAAA,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,SAAS,CAAC;AAEtC,QAAA,MAAM,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;AACrC,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7D,QAAA,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAC1C,QAAA,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC;AAE7B,QAAA,IAAI,SAAS,KAAK,CAAC,EAAE;AACnB,YAAA,MAAM,IAAI,KAAK,CAAC,kCAAkC,KAAK,CAAA,CAAE,CAAC,CAAC;SAC5D;AAED,QAAA,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,GAAG,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEvE,QAAA,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;AAChC,QAAA,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;AAChC,QAAA,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QACtC,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;AAChD,QAAA,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC5D,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5C,QAAA,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QACvD,QAAQ,CAAC,MAAM,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;;AAG9C,QAAA,IAAI,KAAK,KAAK,CAAC,EAAE;AACf,YAAA,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjE,YAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK;gBAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACvE,YAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW;gBAAE,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AAEzF,YAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;gBACtB,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;sBAC/C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;AAC9B,sBAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAEvB,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AACrC,oBAAA,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;iBACpC;aACF;SACF;AAED,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC7B,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,2BAA2B,CAAC;QAEnE,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAI;AACrC,YAAA,MAAM,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;;AAGjC,YAAA,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC;YAErB,GAAG,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,KAAK,KAAI;AAChC,gBAAA,IAAI,KAAK,CAAC,gBAAgB,EAAE;oBAC1B,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;AACjD,oBAAA,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;AACnE,yBAAA,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,KAAK,GAAG,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC;;AAG1C,oBAAA,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;oBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,kBAAkB,GAAG,GAAG,EAAE;AACvC,wBAAA,MAAM,kBAAkB,GAAG,CAAC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC;wBAC5E,UAAU,CAAC,kBAAkB,CAAC,CAAC;AAC/B,wBAAA,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;qBAC/B;iBACF;AACH,aAAC,CAAC;;YAGF,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAG,EAAA,OAAO,CAAgC,8BAAA,CAAA,CAAC,CAAC;AAC7D,YAAA,GAAG,CAAC,gBAAgB,CAAC,eAAe,EAAE,CAAA,OAAA,EAAU,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA,CAAE,CAAC,CAAC;AAEtE,YAAA,GAAG,CAAC,MAAM,GAAG,MAAK;AAChB,gBAAA,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE;AACzC,oBAAA,IAAI;wBACF,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAC5C,wBAAA,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;4BACnB,MAAM,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,qBAAqB,CAAC,CAAC,CAAC;yBAC5D;6BAAM;4BACP,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;AACxC,4BAAA,MAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AAEjF,4BAAA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACjC,4BAAA,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BAChC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;;4BAG9C,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;AACvC,gCAAA,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;6BACtC;4BAED,OAAO,CAAC,MAAM,CAAC,CAAC;yBACjB;qBACF;oBAAC,OAAO,CAAC,EAAE;AACV,wBAAA,MAAM,CAAC,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC,CAAC;qBACnD;iBACF;qBAAM;oBACL,MAAM,CAAC,IAAI,KAAK,CAAC,CAAA,YAAA,EAAe,GAAG,CAAC,MAAM,CAAA,CAAE,CAAC,CAAC,CAAC;iBAChD;AACH,aAAC,CAAC;AAEF,YAAA,GAAG,CAAC,OAAO,GAAG,MAAM,MAAM,CAAC,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC,CAAC;AACrE,YAAA,GAAG,CAAC,SAAS,GAAG,MAAM,MAAM,CAAC,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC,CAAC;AAEnF,YAAA,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrB,SAAC,CAAC,CAAC;KACJ;IAEO,gBAAgB,CAAC,SAAc,EAAE,KAAY,EAAA;AACnD,QAAA,OAAO,CAAC,KAAK,CAAC,CAAA,MAAA,EAAS,SAAS,CAAC,KAAK,CAAA,eAAA,CAAiB,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QAExE,IAAI,SAAS,CAAC,OAAO,GAAG,SAAS,CAAC,UAAU,EAAE;YAC5C,SAAS,CAAC,OAAO,EAAE,CAAC;;YAEpB,UAAU,CAAC,MAAK;gBACd,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;AACtC,aAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;SAC3C;aAAM;YACL,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACvC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAC5C;KACF;AAEO,IAAA,iBAAiB,CAAC,YAAoB,EAAA;AAC5C,QAAA,MAAM,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC;;AAG/C,QAAA,IAAI,IAAI,CAAC,aAAa,CAAC,uBAAuB,EAAE,EAAE;AAChD,YAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC,CAAC;AACnE,YAAA,OAAO,CAAC,GAAG,CAAC,CAAmC,gCAAA,EAAA,IAAI,CAAC,kBAAkB,CAAA,EAAA,EAAK,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA,MAAA,CAAQ,CAAC,CAAC;SAC7G;AAAM,aAAA,IAAI,IAAI,CAAC,aAAa,CAAC,yBAAyB,EAAE,IAAI,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,cAAc,EAAE;;AAE1G,YAAA,IAAI,YAAY,GAAG,EAAE,EAAE;AACrB,gBAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,GAAG,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;AACrF,gBAAA,OAAO,CAAC,GAAG,CAAC,CAAmC,gCAAA,EAAA,IAAI,CAAC,kBAAkB,CAAA,EAAA,EAAK,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA,MAAA,CAAQ,CAAC,CAAC;aAC7G;AAAM,iBAAA,IAAI,YAAY,GAAG,EAAE,EAAE;AAC5B,gBAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,GAAG,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;AACrF,gBAAA,OAAO,CAAC,GAAG,CAAC,CAAoC,iCAAA,EAAA,IAAI,CAAC,kBAAkB,CAAA,EAAA,EAAK,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA,MAAA,CAAQ,CAAC,CAAC;aAC9G;SACF;;AAGD,QAAA,IAAI,IAAI,CAAC,kBAAkB,GAAG,cAAc,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3E,YAAA,MAAM,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,GAAG,cAAc,CAAC;AACnE,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,iBAAiB,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAI,CAAC,YAAY,CAAC,SAAQ,CAAC,CAAC;aAC7B;SACF;KACF;IAEO,sBAAsB,GAAA;AAC5B,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AACvB,QAAA,MAAM,cAAc,GAAG,KAAK,CAAC;AAE7B,QAAA,KAAK,MAAM,CAAC,KAAK,EAAE,UAAU,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE;YAC9D,IAAI,GAAG,GAAG,UAAU,CAAC,SAAS,GAAG,cAAc,EAAE;AAC/C,gBAAA,OAAO,CAAC,IAAI,CAAC,iBAAiB,KAAK,CAAA,4BAAA,CAA8B,CAAC,CAAC;AACnE,gBAAA,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;AAG9B,gBAAA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACjC,gBAAA,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;AACvB,oBAAA,GAAG,UAAU;AACb,oBAAA,OAAO,EAAE,UAAU,CAAC,OAAO,GAAG,CAAC;AAChC,iBAAA,CAAC,CAAC;aACJ;SACF;KACF;IAED,cAAc,GAAA;QACZ,OAAO;YACL,WAAW,EAAE,IAAI,CAAC,WAAW;AAC7B,YAAA,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI;AAC1C,YAAA,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI;AACpC,YAAA,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI;YACtC,kBAAkB,EAAE,IAAI,CAAC,kBAAkB;AAC3C,YAAA,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ;AACrC,YAAA,QAAQ,EAAE,CAAC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG;SAC3D,CAAC;KACH;AACF;;ACvXa,MAAO,eAAe,CAAA;AAGlC,IAAA,WAAA,CAAY,MAAuB,EAAA;AACjC,QAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,QAAA,GAAG,CAAC,6CAA6C,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;KACtE;AAED,IAAA,MAAM,WAAW,CAAC,IAAU,EAAE,OAAsB,EAAA;QAClD,QAAQ,CAAC,yCAAyC,CAAC,CAAC;QACpD,QAAQ,CAAC,CAAS,MAAA,EAAA,IAAI,CAAC,IAAI,CAAW,QAAA,EAAA,IAAI,CAAC,IAAI,CAAQ,MAAA,CAAA,CAAC,CAAC;AAEzD,QAAA,IAAI;AACF,YAAA,MAAM,EACJ,QAAQ,EACR,UAAU,GAAG,MAAO,GAAC,EACrB,SAAS,EACV,GAAG,OAAO,CAAC;;YAGZ,IAAI,CAAC,SAAS,EAAE;gBACd,QAAQ,CAAC,8BAA8B,CAAC,CAAC;AACzC,gBAAA,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;aAC3D;YAED,QAAQ,CAAC,iBAAiB,EAAE;gBAC1B,QAAQ;gBACR,YAAY,EAAE,CAAC,CAAC,SAAS;AAC1B,aAAA,CAAC,CAAC;;AAGH,YAAA,MAAM,cAAc,GAAG;AACrB,gBAAA,GAAG,QAAQ;AACX,gBAAA,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS;aACjC,CAAC;AACF,YAAA,QAAQ,CAAC,kBAAkB,EAAE,cAAc,CAAC,CAAC;;AAG7C,YAAA,MAAM,aAAa,GAAG,IAAI,yBAAyB,CACjD,IAAI,EACJ,cAAc,EACd,IAAI,CAAC,MAAM,CACZ,CAAC;;AAGF,YAAA,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,MAAM,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;AAEzE,YAAA,QAAQ,CAAC,CAAwD,qDAAA,EAAA,QAAQ,kBAAkB,WAAW,CAAA,CAAA,CAAG,CAAC,CAAC;;AAG3G,YAAA,MAAM,SAAS,GAAG;gBAChB,QAAQ,EAAE,IAAI,CAAC,IAAI;AACnB,gBAAA,QAAQ,EAAE,QAAQ;AAClB,gBAAA,WAAW,EAAE,WAAW,CAAC,QAAQ,EAAE;;AAEnC,gBAAA,KAAK,EAAE,cAAc,CAAC,KAAK,IAAI,gBAAgB;AAC/C,gBAAA,WAAW,EAAE,cAAc,CAAC,WAAW,IAAI,EAAE;AAC7C,gBAAA,IAAI,EAAE,cAAc,CAAC,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,cAAc,CAAC,IAAI,IAAI,EAAE;aAC5H,CAAC;AACF,YAAA,QAAQ,CAAC,wBAAwB,EAAE,SAAS,CAAC,CAAC;;AAG9C,YAAA,MAAM,gBAAgB,GAAG,MAAM,KAAK,CAAC,CAAA,8BAAA,EAAiC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAA,YAAA,CAAc,EAAE;AACzG,gBAAA,MAAM,EAAE,MAAM;AACd,gBAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;AAC/B,gBAAA,OAAO,EAAE;AACP,oBAAA,cAAc,EAAE,kBAAkB;AAClC,oBAAA,eAAe,EAAE,CAAU,OAAA,EAAA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,CAAA;AAChD,iBAAA;AACF,aAAA,CAAC,CAAC;AAEH,YAAA,QAAQ,CAAC,CAA6B,0BAAA,EAAA,gBAAgB,CAAC,MAAM,CAAA,CAAE,CAAC,CAAC;AACjE,YAAA,MAAM,cAAc,GAAG,MAAM,gBAAgB,CAAC,IAAI,EAAE,CAAC;AACrD,YAAA,QAAQ,CAAC,yBAAyB,EAAE,cAAc,CAAC,CAAC;AAEpD,YAAA,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE;AAC3B,gBAAA,QAAQ,CAAC,CAAwB,qBAAA,EAAA,cAAc,CAAC,OAAO,CAAA,CAAE,CAAC,CAAC;gBAC3D,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC,OAAO,IAAI,4BAA4B,CAAC,CAAC;aACzE;YAED,QAAQ,CAAC,+BAA+B,CAAC,CAAC;;YAG1C,QAAQ,CAAC,mCAAmC,CAAC,CAAC;AAC9C,YAAA,MAAM,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YAC/D,QAAQ,CAAC,uCAAuC,CAAC,CAAC;AAElD,YAAA,OAAO,cAAc,CAAC;SACvB;QAAC,OAAO,KAAK,EAAE;AACd,YAAA,QAAQ,CAAC,CAAiB,cAAA,EAAA,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe,EAAE,EAAE,KAAK,CAAC,CAAC;YAE7F,OAAO;AACL,gBAAA,OAAO,EAAE,KAAK;AACd,gBAAA,OAAO,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,4CAA4C;aAC/F,CAAC;SACH;KACF;AAEO,IAAA,MAAM,gBAAgB,CAAC,MAAc,EAAE,WAAgB,EAAA;AAC7D,QAAA,GAAG,CAAC,wBAAwB,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;AAEnD,QAAA,IAAI;YACF,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,IAAI,MAAM,GAAG,MAAM,CAAC;AACpB,YAAA,IAAI,WAAgB,CAAC;YACrB,MAAM,OAAO,GAAG,2BAA2B,CAAC;AAE5C,YAAA,IAAI,MAAM,KAAK,OAAO,EAAE;;gBAEtB,QAAQ,GAAG,8BAA8B,CAAC;gBAC1C,MAAM,GAAG,MAAM,CAAC;AAChB,gBAAA,WAAW,GAAG;oBACZ,UAAU,EAAE,WAAW,CAAC,SAAS;oBACjC,OAAO,EAAE,WAAW,CAAC,MAAM;AAC3B,oBAAA,QAAQ,EAAE,WAAW,CAAC,OAAO,IAAI,CAAC;oBAClC,QAAQ,EAAE,WAAW,CAAC,QAAQ;oBAC9B,SAAS,EAAE,WAAW,CAAC,QAAQ;AAC/B,oBAAA,YAAY,EAAE,WAAW,CAAC,WAAW,IAAI,CAAC;AAC1C,oBAAA,MAAM,EAAE,aAAa;;iBAEtB,CAAC;aACH;iBAAM,IAAI,MAAM,KAAK,UAAU,IAAI,MAAM,KAAK,QAAQ,EAAE;;AAEvD,gBAAA,QAAQ,GAAG,CAAgC,6BAAA,EAAA,WAAW,CAAC,SAAS,EAAE,CAAC;AACnE,gBAAA,MAAM,GAAG,MAAM,CAAC;AAChB,gBAAA,WAAW,GAAG;oBACZ,QAAQ,EAAE,WAAW,CAAC,OAAO;AAC7B,oBAAA,QAAQ,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;oBAClC,MAAM,EAAE,WAAW,CAAC,MAAM;iBAC3B,CAAC;AAEF,gBAAA,IAAI,WAAW,CAAC,SAAS,EAAE;oBACzB,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,WAAW,CAAC,SAAS,CAAC;AACpD,oBAAA,WAAW,CAAC,cAAc,GAAG,CAAA,EAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC;;oBAGtE,IAAI,WAAW,CAAC,QAAQ,IAAI,QAAQ,GAAG,CAAC,EAAE;AACxC,wBAAA,MAAM,QAAQ,GAAG,CAAC,WAAW,CAAC,QAAQ,GAAG,CAAC,KAAK,QAAQ,GAAG,IAAI,CAAC,CAAC;AAChE,wBAAA,WAAW,CAAC,cAAc,GAAG,UAAU,CAAC,CAAC,QAAQ,GAAG,OAAS,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;qBAC5E;iBACF;aACF;AAED,YAAA,MAAM,GAAG,GAAG,CAAA,EAAG,OAAO,CAAG,EAAA,QAAQ,EAAE,CAAC;AACpC,YAAA,GAAG,CAAC,yBAAyB,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC;AAE3E,YAAA,MAAM,OAAO,GAA2B;AACtC,gBAAA,cAAc,EAAE,kBAAkB;aACnC,CAAC;;AAGF,YAAA,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;gBACtB,OAAO,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;aAC3C;AAED,YAAA,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;AACzB,gBAAA,OAAO,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;aAC5D;AAED,YAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;gBAChC,MAAM;gBACN,OAAO;AACP,gBAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;AAClC,aAAA,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAChB,gBAAA,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;AAC1D,gBAAA,GAAG,CAAC,iCAAiC,EAAE,SAAS,CAAC,CAAC;gBAClD,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,gCAAgC,EAAE,CAAC;aACpE;AAED,YAAA,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;YACnC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAI,EAAE,CAAC;SACnC;QAAC,OAAO,KAAK,EAAE;YACd,GAAG,CAAC,gCAAgC,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;YAC9F,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,gCAAgC,EAAE,CAAC;SAC7G;KACF;AAGO,IAAA,MAAM,eAAe,CAAC,aAAmB,EAAE,OAAe,EAAA;AAEhE,QAAA,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;AAChC,QAAA,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;AAE5C,QAAA,IAAI;AACF,YAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,CAAiC,8BAAA,EAAA,IAAI,CAAC,MAAM,CAAC,SAAS,CAAW,QAAA,EAAA,OAAO,iBAAiB,EAAE;AACtH,gBAAA,MAAM,EAAE,MAAM;AACd,gBAAA,IAAI,EAAE,QAAQ;AACd,gBAAA,OAAO,EAAE;AACP,oBAAA,eAAe,EAAE,CAAU,OAAA,EAAA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,CAAA;AAChD,iBAAA;AACF,aAAA,CAAC,CAAC;AAEH,YAAA,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;AACrC,YAAA,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;gBACnB,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,yBAAyB,CAAC,CAAC;aAC9D;AAED,YAAA,OAAO,MAAM,CAAC;SACf;QAAC,OAAO,KAAK,EAAE;AACd,YAAA,MAAM,IAAI,KAAK,CAAC,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,4BAA4B,CAAC,CAAC;SACxF;KACF;IAIF,MAAM,cAAc,CAAC,OAAe,EAAA;AAEjC,QAAA,IAAI;AACF,YAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,CAAiC,8BAAA,EAAA,IAAI,CAAC,MAAM,CAAC,SAAS,CAAW,QAAA,EAAA,OAAO,SAAS,EAAE;AAC9G,gBAAA,MAAM,EAAE,KAAK;AACb,gBAAA,OAAO,EAAE;AACP,oBAAA,eAAe,EAAE,CAAU,OAAA,EAAA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,CAAA;AAChD,iBAAA;AACF,aAAA,CAAC,CAAC;AAEH,YAAA,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;AACrC,YAAA,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;gBACnB,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,4BAA4B,CAAC,CAAC;aACjE;AAED,YAAA,OAAO,MAAM,CAAC;SACf;QAAC,OAAO,KAAK,EAAE;AACd,YAAA,MAAM,IAAI,KAAK,CAAC,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,4BAA4B,CAAC,CAAC;SACxF;KACF;AAOD,IAAA,MAAM,UAAU,GAAA;AACd,QAAA,IAAI;AACF,YAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,CAAA,8BAAA,EAAiC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAA,OAAA,CAAS,EAAE;AAC5F,gBAAA,MAAM,EAAE,KAAK;AACb,gBAAA,OAAO,EAAE;AACP,oBAAA,eAAe,EAAE,CAAU,OAAA,EAAA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,CAAA;AAChD,iBAAA;AACF,aAAA,CAAC,CAAC;AAEH,YAAA,GAAG,CAAC,CAAgC,6BAAA,EAAA,QAAQ,CAAC,MAAM,CAAA,CAAE,CAAC,CAAC;AACvD,YAAA,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;AACrC,YAAA,GAAG,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;AAE1C,YAAA,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;gBACnB,GAAG,CAAC,6BAA6B,MAAM,CAAC,OAAO,IAAI,eAAe,CAAE,CAAA,CAAC,CAAC;gBACtE,OAAO;AACL,oBAAA,OAAO,EAAE,KAAK;AACd,oBAAA,OAAO,EAAE,MAAM,CAAC,OAAO,IAAI,2BAA2B;iBACvD,CAAC;aACH;AAED,YAAA,GAAG,CAAC,CAA0B,uBAAA,EAAA,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAA,OAAA,CAAS,CAAC,CAAC;AACjF,YAAA,OAAO,MAAM,CAAC;SACf;QAAC,OAAO,KAAK,EAAE;AACd,YAAA,GAAG,CAAC,CAAsB,mBAAA,EAAA,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe,EAAE,EAAE,KAAK,CAAC,CAAC;YAC7F,OAAO;AACL,gBAAA,OAAO,EAAE,KAAK;AACd,gBAAA,OAAO,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,2BAA2B;aAC9E,CAAC;SACH;KACF;AAKF;;AC/PD,MAAM,cAAc,GAAkC,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,GAAG,EAAE,EAAE,KAAI;AACxF,IAAA,MAAM,EAAE,YAAY,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,eAAe,EAAE,GAAG,KAAK,CAAC;AAEpG,IAAA,IAAI,QAAQ,GAAG,CAAyC,sCAAA,EAAA,OAAO,EAAE,CAAC;IAClE,MAAM,MAAM,GAAa,EAAE,CAAC;AAE5B,IAAA,IAAI,YAAY;AAAE,QAAA,MAAM,CAAC,IAAI,CAAC,CAAA,cAAA,EAAiB,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAA,CAAE,CAAC,CAAC;AAChF,IAAA,IAAI,cAAc;AAAE,QAAA,MAAM,CAAC,IAAI,CAAC,CAAA,gBAAA,EAAmB,cAAc,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAA,CAAE,CAAC,CAAC;AACtF,IAAA,IAAI,QAAQ;AAAE,QAAA,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;AAC5C,IAAA,IAAI,SAAS;AAAE,QAAA,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;AAC9C,IAAA,IAAI,eAAe;AAAE,QAAA,MAAM,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;;IAG1D,MAAM,CAAC,IAAI,CAAC,CAAA,WAAA,EAAc,MAAM,CAAC,SAAS,CAAE,CAAA,CAAC,CAAC;IAC9C,MAAM,CAAC,IAAI,CAAC,CAAA,QAAA,EAAW,MAAM,CAAC,MAAM,CAAE,CAAA,CAAC,CAAC;AAExC,IAAA,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;QACrB,QAAQ,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,CAAE,CAAC;KACpC;AAED,IAAA,QACEC,gBACI,CAAA,aAAA,CAAA,QAAA,EAAA,EAAA,GAAG,EAAE,QAAQ,EACb,KAAK,EAAE,EAAC,KAAK,EAAE,KAAK,IAAI,MAAM,EAAE,MAAM,EAAE,MAAM,IAAI,MAAM,EAAC,EACzD,WAAW,EAAC,GAAG,EACf,KAAK,EAAC,0FAA0F,EAChG,eAAe,EAAA,IAAA,EACf,KAAK,EAAE,CAAA,gBAAA,EAAmB,OAAO,CAAE,CAAA,EAAA,CACnC,EACJ;AACJ;;ACtCA;;;;;AAKG;AACI,eAAe,WAAW,CAAC,IAAU,EAAE,OAAY,EAAE,MAAuB,EAAA;AACjF,IAAA,MAAM,MAAM,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC;IAC3C,OAAO,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AAC3C,CAAC;AAED;;;;AAIG;AACI,eAAe,cAAc,CAAC,OAAe,EAAE,MAAuB,EAAA;AAC3E,IAAA,MAAM,MAAM,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC;AAC3C,IAAA,OAAO,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;AACxC,CAAC;AAED;;;AAGG;AACI,eAAe,UAAU,CAAC,MAAuB,EAAA;AACtD,IAAA,MAAM,MAAM,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC;AAC3C,IAAA,OAAO,MAAM,CAAC,UAAU,EAAE,CAAC;AAC7B;;;;;;;;;"}